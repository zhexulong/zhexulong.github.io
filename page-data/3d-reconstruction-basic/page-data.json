{"componentChunkName":"component---src-templates-blog-post-js","path":"/3d-reconstruction-basic/","result":{"data":{"site":{"siteMetadata":{"title":"且听龙吟"}},"markdownRemark":{"id":"e13b7f77-37d9-5840-a946-536dd7fb1a5d","excerpt":"单目相机模型 小孔成像模型 齐次坐标表示: 将三维点用四维向量表示,可以用来表示无穷远点等 如:,  其中,  从影消点到内参矩阵 对于一个直线l,方向为d,无穷远点 无穷远点映射到影消点,因而影消点 K为相机内参矩阵 因此可以通过图片中影消点的坐标求出出相机的内参矩阵K 案例: LSS中lift…","html":"<h2 id=\"单目相机模型\" style=\"position:relative;\">单目相机模型<a href=\"#%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A8%A1%E5%9E%8B\" aria-label=\"单目相机模型 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"小孔成像模型\" style=\"position:relative;\">小孔成像模型<a href=\"#%E5%B0%8F%E5%AD%94%E6%88%90%E5%83%8F%E6%A8%A1%E5%9E%8B\" aria-label=\"小孔成像模型 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>齐次坐标表示: 将三维点用四维向量表示,可以用来表示无穷远点等</p>\n<p>如:<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo separator=\"true\">,</mo><mi>z</mi><mo stretchy=\"false\">)</mo><mo>→</mo><msup><mi>P</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo>=</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo separator=\"true\">,</mo><mi>z</mi><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">P = (x, y, z) \\rightarrow P' = (x, y, z, 1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7519em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></span>,</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f2acb91c5b3cc947e7676cc47600a2a8/3b477/pinhole-imaging.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMElEQVR42mVRTY+DIBT0//+hJr20SS+9erCHJmVb0zTq+oEoUkB4O1JjdDtB8uTNMJNHRETGGL2CtfZ4PO52u/P5fDgc9vv96XRSSq1pqCGM8PV9zzlvA5qmybKsKIpqQV3XTdMKsXBQdF03i9fARSCD4b2HA3bCIhqVQqJ/5EnsA1AgmxDibcwg5YALytJw7qrKcq6HAQTn3DiOCz9aKkBK+ZbSwlYInecSSms/bRs0H+XGeQHESkqPeOA557choYTvJnaapj/3O/LgxwafuYMC1HDujcEs6AvRL1CWeZb1yKyUD2w8hcY8Xy9qW0zCMJbEsZESayP2RUHP58iYu908YxQc8NaT+PEgznFir1eI311nt/4RJQnFMV0uk09VwWfuIILW0+69G4amrr9j/wFn4EF8ullXqwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pinhole-imaging.png\"\n        title=\"\"\n        src=\"/static/f2acb91c5b3cc947e7676cc47600a2a8/f058b/pinhole-imaging.png\"\n        srcset=\"/static/f2acb91c5b3cc947e7676cc47600a2a8/c26ae/pinhole-imaging.png 158w,\n/static/f2acb91c5b3cc947e7676cc47600a2a8/6bdcf/pinhole-imaging.png 315w,\n/static/f2acb91c5b3cc947e7676cc47600a2a8/f058b/pinhole-imaging.png 630w,\n/static/f2acb91c5b3cc947e7676cc47600a2a8/40601/pinhole-imaging.png 945w,\n/static/f2acb91c5b3cc947e7676cc47600a2a8/78612/pinhole-imaging.png 1260w,\n/static/f2acb91c5b3cc947e7676cc47600a2a8/3b477/pinhole-imaging.png 1855w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>其中, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mo>=</mo><mi>K</mi><mo stretchy=\"false\">[</mo><mi>I</mi><mn>0</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">M = K[I 0]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord\">0</span><span class=\"mclose\">]</span></span></span></span></span></p>\n<h3 id=\"从影消点到内参矩阵\" style=\"position:relative;\">从影消点到内参矩阵<a href=\"#%E4%BB%8E%E5%BD%B1%E6%B6%88%E7%82%B9%E5%88%B0%E5%86%85%E5%8F%82%E7%9F%A9%E9%98%B5\" aria-label=\"从影消点到内参矩阵 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>对于一个直线l,方向为d,无穷远点<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>d</mi><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(d, 0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">d</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>无穷远点映射到影消点<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span>,因而影消点<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi><mo>=</mo><mi>K</mi><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">v = Kd</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mord mathnormal\">d</span></span></span></span></span></p>\n<p>K为相机内参矩阵</p>\n<p>因此可以通过图片中影消点的坐标求出出相机的内参矩阵K</p>\n<h3 id=\"案例-LSS中lift为何能实现距离估计\" style=\"position:relative;\">案例: LSS中lift为何能实现距离估计?<a href=\"#%E6%A1%88%E4%BE%8B-LSS%E4%B8%ADlift%E4%B8%BA%E4%BD%95%E8%83%BD%E5%AE%9E%E7%8E%B0%E8%B7%9D%E7%A6%BB%E4%BC%B0%E8%AE%A1\" aria-label=\"案例 LSS中lift为何能实现距离估计 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>基于小孔成像模型, 图像中坐标与三维坐标的关系为:</p>\n<p><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mrow><mo fence=\"true\">[</mo><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>u</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>v</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence=\"true\">]</mo></mrow><mo>=</mo><mi>K</mi><mrow><mo fence=\"true\">[</mo><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>z</mi></mstyle></mtd></mtr></mtable><mo fence=\"true\">]</mo></mrow><mo>=</mo><mrow><mo fence=\"true\">[</mo><mtable rowspacing=\"0.16em\" columnalign=\"center center center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>f</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>c</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>f</mi><mi>y</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>c</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence=\"true\">]</mo></mrow><mrow><mo fence=\"true\">[</mo><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>z</mi></mstyle></mtd></mtr></mtable><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\"> \\begin{bmatrix} u \\\\ v \\\\ 1 \\end{bmatrix} = K \\begin{bmatrix} x \\\\ y \\\\ z \\end{bmatrix} = \\begin{bmatrix} f_x &#x26; 0 &#x26; c_x \\\\ 0 &#x26; f_y &#x26; c_y \\\\ 0 &#x26; 0 &#x26; 1 \\end{bmatrix} \\begin{bmatrix} x \\\\ y \\\\ z \\end{bmatrix}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.6em;vertical-align:-1.55em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎣</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"0.6667em\" height=\"0.016em\" style=\"width:0.6667em\" viewBox=\"0 0 666.67 16\" preserveAspectRatio=\"xMinYMin\"><path d=\"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"></path></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎡</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎦</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"0.6667em\" height=\"0.016em\" style=\"width:0.6667em\" viewBox=\"0 0 666.67 16\" preserveAspectRatio=\"xMinYMin\"><path d=\"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"></path></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎤</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.6em;vertical-align:-1.55em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎣</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"0.6667em\" height=\"0.016em\" style=\"width:0.6667em\" viewBox=\"0 0 666.67 16\" preserveAspectRatio=\"xMinYMin\"><path d=\"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"></path></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎡</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎦</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"0.6667em\" height=\"0.016em\" style=\"width:0.6667em\" viewBox=\"0 0 666.67 16\" preserveAspectRatio=\"xMinYMin\"><path d=\"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"></path></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎤</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.6em;vertical-align:-1.55em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎣</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"0.6667em\" height=\"0.016em\" style=\"width:0.6667em\" viewBox=\"0 0 666.67 16\" preserveAspectRatio=\"xMinYMin\"><path d=\"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"></path></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎡</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎦</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"0.6667em\" height=\"0.016em\" style=\"width:0.6667em\" viewBox=\"0 0 666.67 16\" preserveAspectRatio=\"xMinYMin\"><path d=\"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"></path></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎤</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎣</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"0.6667em\" height=\"0.016em\" style=\"width:0.6667em\" viewBox=\"0 0 666.67 16\" preserveAspectRatio=\"xMinYMin\"><path d=\"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"></path></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎡</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎦</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"0.6667em\" height=\"0.016em\" style=\"width:0.6667em\" viewBox=\"0 0 666.67 16\" preserveAspectRatio=\"xMinYMin\"><path d=\"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"></path></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎤</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>可以通过先验的<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span>和<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span>坐标,求出<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>z</mi></mrow><annotation encoding=\"application/x-tex\">z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span></span></span></span></span>坐标,即实现了距离估计</p>\n<p>这种先验信息可以通过深度学习获得,因而LSS中的lift实现了距离估计</p>\n<h2 id=\"双目三维重建基础\" style=\"position:relative;\">双目三维重建基础<a href=\"#%E5%8F%8C%E7%9B%AE%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA%E5%9F%BA%E7%A1%80\" aria-label=\"双目三维重建基础 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ffb00378e54ef11b162c378280a556fe/36c33/binocular.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVUlEQVR42o1SXY+CMBDk//8kffFVLiZowMRcKVhqQY6oUD6Feje6HuZMzrghZNvO7M5Oa33/jb7vL5cLEvq/DmvMCH04HLIsQ9YP13iXTHyErirFub9e102DTWPMfyru5K7r6rq+gm5AbzJxp9POmKHvcQoJONVao9AzGVubzSaKoq0QcRx7nveVZYMxu90uTVOx3eJTSjmO09y0jEIsahuGIZK2aXSeg1yWJZnnui4I5/MZS1RHf2r2IAPk+z4SJWUqZZwkRIZaEUVNnoeMEYbID9mYBHqWy+VisbBtu9Cac45N6sAYi5X6sO35fC6lLLXe7/eQRs0tlK+qCgSMB/1JkgA0/N4Tbi4vCjQ8Ho8+5xhBFwW8oLHvbn8ydjqdQIY2eBMEAYSgLXCwQwgBDEwF5tkwGo9cwWwojz6z2Wy1WrVtOzoMDKl9Jo/r8W2CRuVePNUfGcqwAox0qSMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"binocular\"\n        title=\"\"\n        src=\"/static/ffb00378e54ef11b162c378280a556fe/f058b/binocular.png\"\n        srcset=\"/static/ffb00378e54ef11b162c378280a556fe/c26ae/binocular.png 158w,\n/static/ffb00378e54ef11b162c378280a556fe/6bdcf/binocular.png 315w,\n/static/ffb00378e54ef11b162c378280a556fe/f058b/binocular.png 630w,\n/static/ffb00378e54ef11b162c378280a556fe/40601/binocular.png 945w,\n/static/ffb00378e54ef11b162c378280a556fe/36c33/binocular.png 946w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>根据图,可以得到公式</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5f6b7911cb6da66540ba716213fbccac/9fafa/binocular-formula.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVR42k1S266CMBDk/7/KxAefNDleY1SkImgRpBREet0zgp5jQ8jSnZmd3SXw3hORV4pGIwpDWixoOqX9nqSk1Yq229fn6USfA7xzbmAF7zuQx2OKY9rt6OeHZjOaTGi9Bpa0Jmv/mHmeZ1nGObfWBlEU8Sw7M0ZpSk1DeY7A44FQUbwZfR0crXWSJGCmSYL4RY7jmDFm4ecDukt5hrbWTV1XVSWE6LpuSHVKNY/Ho21hPmgaAGq8b7cbxJ5ti55EWR6PR6cUeCDf73eQcZnBl5ReCKrrV8+iT4OPTgCCK2MMbmDHGyOrSkqJPtu2hbRS6oFcUdjeSIDqQKN7o7XrBwPrpRD7MLRKQRpkmII1NA8kip8vlycG/D/tfjDDHsg5a0wDexCGYl8RISBGqZLzSxTBjO+6L3JZYs+esSJNr4ylURRuNnmS1EWhq4qGWaI+56+NZBmCLzL+CiGcEPX1mh4O2/l8v1xWnDsMFqm+8mdxftD6BZYBOqP5ggpyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"binocular-formula\"\n        title=\"\"\n        src=\"/static/5f6b7911cb6da66540ba716213fbccac/f058b/binocular-formula.png\"\n        srcset=\"/static/5f6b7911cb6da66540ba716213fbccac/c26ae/binocular-formula.png 158w,\n/static/5f6b7911cb6da66540ba716213fbccac/6bdcf/binocular-formula.png 315w,\n/static/5f6b7911cb6da66540ba716213fbccac/f058b/binocular-formula.png 630w,\n/static/5f6b7911cb6da66540ba716213fbccac/40601/binocular-formula.png 945w,\n/static/5f6b7911cb6da66540ba716213fbccac/78612/binocular-formula.png 1260w,\n/static/5f6b7911cb6da66540ba716213fbccac/9fafa/binocular-formula.png 1565w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>但是由于实际应用中有一定噪声存在,可能两条线不相交,此时应使用非线性解法</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/907c56cc7004f6b4ff3fc1ba81f53fbd/9f9a4/binocular-nonlinear.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABN0lEQVR42nWRAY6CMBBFvf+RvIHEIChGq1hSIkGqgAtdgZa2+5HE1dWdhElo/5vO/JlYa7uuC4LAcZz1es05z7IsjuOyLPM8T9O0qipojDHDd89W6yFbO7FP0fe9lNKMojtgoEOEoSHEbjYVpTKK7Gpl8/wXHtVKKX4+d1LWQqDQeDGkJDHLpaVUH49mv7d1/eHlAU5T5nkbx+mUGhUv8XoywFrroijatlVac8b86TT0/VZKSNumud1ul8vlWwj7FpPRMNgDzzzXpVF0hUVCHA4HSml5vdZ1DR6Cx3R/Yei/ynLrearvi7sZQgj4HywWgDE/WvsM4wi7cV2XxTGY8RHYfuZ8NZ/PZjMsr2maz22j8JYQDMYY2+12Dx0qhpSeTidCyL8wLiJs72lnT+4Ov9jfMUne2/4BY9Y8fDWz/hcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"binocular-nonlinear\"\n        title=\"\"\n        src=\"/static/907c56cc7004f6b4ff3fc1ba81f53fbd/f058b/binocular-nonlinear.png\"\n        srcset=\"/static/907c56cc7004f6b4ff3fc1ba81f53fbd/c26ae/binocular-nonlinear.png 158w,\n/static/907c56cc7004f6b4ff3fc1ba81f53fbd/6bdcf/binocular-nonlinear.png 315w,\n/static/907c56cc7004f6b4ff3fc1ba81f53fbd/f058b/binocular-nonlinear.png 630w,\n/static/907c56cc7004f6b4ff3fc1ba81f53fbd/40601/binocular-nonlinear.png 945w,\n/static/907c56cc7004f6b4ff3fc1ba81f53fbd/78612/binocular-nonlinear.png 1260w,\n/static/907c56cc7004f6b4ff3fc1ba81f53fbd/9f9a4/binocular-nonlinear.png 1560w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"极几何\" style=\"position:relative;\">极几何<a href=\"#%E6%9E%81%E5%87%A0%E4%BD%95\" aria-label=\"极几何 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>如何寻找对应点:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bacc5e88c8757ec9ffd9b322cfdf15a5/814ad/epipolar.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.9620253164557%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrklEQVR42n2Q7W+aUBTG+/9/WdYPe8uyLkvmh8U1rC9upAiCdoUaOtsgQnSCguWl1lreBAr37GDMNhezJzcn95z7/HKfe/fCbQVBkCSJ4zgCz0uSZFkWtjj8xxPHMQDsrbaVpimeIZzlOWLYrnYJ5xUMu1QQorTbD/M5/FdbMCEkz3PceL7/jaKuZBnboiwxwsZRlrA27IAxj+e6xs9xo3Ha4nmapiVR9F3Xtu1snROCAHQdMBGuLNuC8R7TNHu9oes/MM0my7WiJBtoE8uyozCqooUh8DxIEngepOkGLgnBak3GwtkXc9RXrvsd7uuFQJvmTL254ujDoa5WMMbOMiiKv2PjYyt4cX8XBQsoVo41icNlEj3ezuwiDcnT6v7OX3vI7+/ZwOXSsc+pmXiy6DGPCncrngaqANMuMSSYyrHKa2x9JFBGmypG38EQYdSB2Q3yFfw0n/74/GLMfOxRb5Tjd16nvuwegc6RQRPr8vJI/PBMrj03Tg6gz8CABfUMzO4fWGu8vz4+ED+9FGr7l/VX/gUFQ4FoHOgtUBhgakC9hcPXgHOVBY0FUwZCfgFM+1kKrloFWAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"epipolar\"\n        title=\"\"\n        src=\"/static/bacc5e88c8757ec9ffd9b322cfdf15a5/f058b/epipolar.png\"\n        srcset=\"/static/bacc5e88c8757ec9ffd9b322cfdf15a5/c26ae/epipolar.png 158w,\n/static/bacc5e88c8757ec9ffd9b322cfdf15a5/6bdcf/epipolar.png 315w,\n/static/bacc5e88c8757ec9ffd9b322cfdf15a5/f058b/epipolar.png 630w,\n/static/bacc5e88c8757ec9ffd9b322cfdf15a5/40601/epipolar.png 945w,\n/static/bacc5e88c8757ec9ffd9b322cfdf15a5/78612/epipolar.png 1260w,\n/static/bacc5e88c8757ec9ffd9b322cfdf15a5/814ad/epipolar.png 1673w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>基于极几何,可知对应点可以在对应极线上搜索,只需知道<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>O</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">O_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>O</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">O_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>和<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span></span>点即可得到<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>p</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">p'</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9463em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span>点的线</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d8db4f7b3cccd2c7ddf18bbcc01aed9d/b8bf8/essential-matrix.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiUlEQVR42m1R226jMBDl/6X9iXxEtdJuX+hD2ihK06ZNSgo4BALhYsA2mJvNdEKrqlJ6ZI1mRnPOXGwMfd9IKTjPKUXr+/5isdhsNsvl8m23E0Kgb5rmfD7Psqxt23oCOgBg+IS8bbcH191blkeIFKJp26ZpsFRUVS0vwNKu65BTYWayX+T1anX/8OA4jm3bZVliSms9ao2O9/KSxzE6GPZ9D1cwaBz7npdjH8ZEWXZtezwei6JI0jSNQlYWcRJjq/P5PA2Bkwk9SV/I3zKYSpKkZMwPgqKgNE24EF2v9haJowjlcC60NM8Hpb7I4wTA9wlK701z9bh13fAU5nneRFHmeYFtk2n+YVQDqB70AKMyfu5wERiG3dPGcUNCwvd373AICDllGT+FWVtx2N3x51th3cHqL7hr4/oMSim8t5S1bCTnTFQCQ9QdWwnrm+HfTM3+wP8ZBE+/kGVdM8ayNGMl44ylScI517iXVkCPENngbSF2oKa/kD+71/s9e33llqUonVYar7/qA2WGM4WqCgB7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"essential-matrix\"\n        title=\"\"\n        src=\"/static/d8db4f7b3cccd2c7ddf18bbcc01aed9d/f058b/essential-matrix.png\"\n        srcset=\"/static/d8db4f7b3cccd2c7ddf18bbcc01aed9d/c26ae/essential-matrix.png 158w,\n/static/d8db4f7b3cccd2c7ddf18bbcc01aed9d/6bdcf/essential-matrix.png 315w,\n/static/d8db4f7b3cccd2c7ddf18bbcc01aed9d/f058b/essential-matrix.png 630w,\n/static/d8db4f7b3cccd2c7ddf18bbcc01aed9d/40601/essential-matrix.png 945w,\n/static/d8db4f7b3cccd2c7ddf18bbcc01aed9d/78612/essential-matrix.png 1260w,\n/static/d8db4f7b3cccd2c7ddf18bbcc01aed9d/b8bf8/essential-matrix.png 1728w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ac623d7c9515000d1e0b651784a69ee8/aaf7f/fundamental-matrix.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpklEQVR42lWRy27bMBBF9f9Z9Q+6S5cFghjwIpu4WTRNYBh+AJKDStabkkVKskTryekV3RjOgCCHg7mcM0Oj7zqsrm2VUnEcLxaL1Wr1W1tZluv1ejabzefz3W43DEPbtjq3JaKMc4MzFjpO4vs550KINE0552EQJGkq8hzXJIGbZlmWfxoSxnHEbnRVVTImhaBxpE+DVxyPaRBMF6XoqykdwXPG2PegGbpu1OJcV2u6LrRtf7+XTVNVFWMMLUwyvcar+PZJ6JGHnuIoAi0inuflQpylBDsNHTUFyVzJgkaZsci4Ul1gXNfdW1bCWFEUuGIKruMgUjctcV+9P9LmSb090p+HzHw3bsti//XyYpomICf4poFzPp8FZllWxD31/IPuv6nvd/T6M7PejNPphCJIunSLTi4+hrndbv9qw8St/UeVxUP0Qb6lPJOKIAscI4qiw+Fg27ZlWcvlEtgoiC8FRRiGnu+7nofgZrMJo3iCv532hbnv+7quIQMFWDBhlC6EQBDYUkpEcLZtM0l1g5NYfbX//Q9DHcf4otPxSJpC3fz2tfI/zCVqTzAtejwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"fundamental-matrix\"\n        title=\"\"\n        src=\"/static/ac623d7c9515000d1e0b651784a69ee8/f058b/fundamental-matrix.png\"\n        srcset=\"/static/ac623d7c9515000d1e0b651784a69ee8/c26ae/fundamental-matrix.png 158w,\n/static/ac623d7c9515000d1e0b651784a69ee8/6bdcf/fundamental-matrix.png 315w,\n/static/ac623d7c9515000d1e0b651784a69ee8/f058b/fundamental-matrix.png 630w,\n/static/ac623d7c9515000d1e0b651784a69ee8/40601/fundamental-matrix.png 945w,\n/static/ac623d7c9515000d1e0b651784a69ee8/78612/fundamental-matrix.png 1260w,\n/static/ac623d7c9515000d1e0b651784a69ee8/aaf7f/fundamental-matrix.png 1668w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>本质矩阵F自由度为7,如果知道F,无需场景信息以及摄像机内、外参数，即可建立左右图像对应关系（<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>→</mo><msup><mi>p</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">p \\rightarrow p'</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9463em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span>)</p>\n<p>基于三角测量,可以得到三维点<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span>的坐标</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4e96f1259f3c009faf3cc2553a6b4650/a95f7/triangulation.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVUlEQVR42oVS23KCMBT0/z/IFx+ttYUiBKQohYo3CiQCBQIJYNJDnc446kz34cxmkj2XPRlJIfq2bTnvOOdNAzw9nRBC0+l0Mpnouq6q6ng8VtW3vu8ZY/wPQojRcbf1VittPjcUxVlaNkK+44CeEIIxTlOgpziOIX5foSiKQWwiyzTtl9lcfZpZ9mppO1vflxIaEufzGUgURV3XARVC3mCkaQZ6VW3TshaapaHnmeKvXbiAxiBC8f1+D4QxyCWuMYg3rusYyu7jfbteBo5p6YvkeByM6HtoDxNC6xregRsgvq0s78AZryoaBtssy+PDoSwK6B8M+l8Mk+Z5HXxuvgK/yNPA82hF2w728Wjm+8qMdXEU9m1TZgTcvuR8bNj1AeY0EKIYd1nO8rwpBlw8hwgLS5Ik+gWl9EHlwWSYkJAyDGuMq7K8iGFbrut6HvyJAbB2KeUPKOY0xjmw480AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"triangulation\"\n        title=\"\"\n        src=\"/static/4e96f1259f3c009faf3cc2553a6b4650/f058b/triangulation.png\"\n        srcset=\"/static/4e96f1259f3c009faf3cc2553a6b4650/c26ae/triangulation.png 158w,\n/static/4e96f1259f3c009faf3cc2553a6b4650/6bdcf/triangulation.png 315w,\n/static/4e96f1259f3c009faf3cc2553a6b4650/f058b/triangulation.png 630w,\n/static/4e96f1259f3c009faf3cc2553a6b4650/40601/triangulation.png 945w,\n/static/4e96f1259f3c009faf3cc2553a6b4650/78612/triangulation.png 1260w,\n/static/4e96f1259f3c009faf3cc2553a6b4650/a95f7/triangulation.png 1853w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"案例-ok-robot中的三维语义识别重建\" style=\"position:relative;\">案例: ok-robot中的三维语义识别重建<a href=\"#%E6%A1%88%E4%BE%8B-ok-robot%E4%B8%AD%E7%9A%84%E4%B8%89%E7%BB%B4%E8%AF%AD%E4%B9%89%E8%AF%86%E5%88%AB%E9%87%8D%E5%BB%BA\" aria-label=\"案例 ok robot中的三维语义识别重建 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>遍历所有图片,将对应物体的coordinate记录到semantic memory里面,以便后续导航</p>\n<p>代码示意(非完整代码)</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">    <span class=\"token keyword\">def</span> <span class=\"token function\">_setup_owl_dense_labels</span><span class=\"token punctuation\">(</span>\r\n        self<span class=\"token punctuation\">,</span> dataset<span class=\"token punctuation\">,</span> mask_predictor\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token keyword\">for</span> idx<span class=\"token punctuation\">,</span> data_dict <span class=\"token keyword\">in</span> tqdm<span class=\"token punctuation\">.</span>tqdm<span class=\"token punctuation\">(</span>\r\n            <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>dataloader<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> total<span class=\"token operator\">=</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>dataset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> desc<span class=\"token operator\">=</span><span class=\"token string\">\"Calculating OWL features\"</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n            rgb <span class=\"token operator\">=</span> einops<span class=\"token punctuation\">.</span>rearrange<span class=\"token punctuation\">(</span>data_dict<span class=\"token punctuation\">[</span><span class=\"token string\">\"rgb\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"b h w c -> b c h w\"</span><span class=\"token punctuation\">)</span>\r\n            xyz <span class=\"token operator\">=</span> data_dict<span class=\"token punctuation\">[</span><span class=\"token string\">\"xyz_position\"</span><span class=\"token punctuation\">]</span>\r\n            <span class=\"token keyword\">for</span> image<span class=\"token punctuation\">,</span> coordinates <span class=\"token keyword\">in</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span>rgb<span class=\"token punctuation\">,</span> xyz<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n                masks<span class=\"token punctuation\">,</span> iou_predictions<span class=\"token punctuation\">,</span> low_res_masks <span class=\"token operator\">=</span> mask_predictor<span class=\"token punctuation\">.</span>predict_torch<span class=\"token punctuation\">(</span>\r\n                    point_coords<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\r\n                    point_labels<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\r\n                    boxes<span class=\"token operator\">=</span>transformed_boxes<span class=\"token punctuation\">,</span>\r\n                    multimask_output<span class=\"token operator\">=</span><span class=\"token boolean\">False</span>\r\n                <span class=\"token punctuation\">)</span>\r\n                <span class=\"token comment\">#print(masks.shape)</span>\r\n                masks <span class=\"token operator\">=</span> masks<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\r\n\r\n                <span class=\"token keyword\">for</span> pred_class<span class=\"token punctuation\">,</span> pred_box<span class=\"token punctuation\">,</span> pred_score<span class=\"token punctuation\">,</span> feature<span class=\"token punctuation\">,</span> pred_mask <span class=\"token keyword\">in</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span>\r\n                    labels<span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                    boxes<span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                    scores<span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                    features<span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                    masks<span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n                    img_h<span class=\"token punctuation\">,</span> img_w <span class=\"token operator\">=</span> target_sizes<span class=\"token punctuation\">.</span>unbind<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\r\n                    real_mask <span class=\"token operator\">=</span> pred_mask<span class=\"token punctuation\">[</span>valid_mask<span class=\"token punctuation\">]</span>\r\n                    real_mask_rect <span class=\"token operator\">=</span> valid_mask <span class=\"token operator\">&amp;</span> pred_mask\r\n                    <span class=\"token comment\"># Go over each instance and add it to the DB.</span>\r\n                    total_points <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>reshaped_coordinates<span class=\"token punctuation\">[</span>real_mask<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n                    resampled_indices <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>rand<span class=\"token punctuation\">(</span>total_points<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> self<span class=\"token punctuation\">.</span>_subsample_prob\r\n                    self<span class=\"token punctuation\">.</span>_label_xyz<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>\r\n                        reshaped_coordinates<span class=\"token punctuation\">[</span>real_mask<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>resampled_indices<span class=\"token punctuation\">]</span>\r\n                    <span class=\"token punctuation\">)</span>\r\n                    self<span class=\"token punctuation\">.</span>_label_rgb<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>\r\n                        reshaped_rgb<span class=\"token punctuation\">[</span>real_mask_rect<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>resampled_indices<span class=\"token punctuation\">]</span>\r\n                    <span class=\"token punctuation\">)</span>\r\n                    self<span class=\"token punctuation\">.</span>_label_weight<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>\r\n                        torch<span class=\"token punctuation\">.</span>ones<span class=\"token punctuation\">(</span>total_points<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span>resampled_indices<span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> pred_score\r\n                    <span class=\"token punctuation\">)</span>\r\n                    self<span class=\"token punctuation\">.</span>_image_features<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>\r\n                        einops<span class=\"token punctuation\">.</span>repeat<span class=\"token punctuation\">(</span>feature<span class=\"token punctuation\">,</span> <span class=\"token string\">\"d -> b d\"</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">=</span>total_points<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span>\r\n                            resampled_indices\r\n                        <span class=\"token punctuation\">]</span>\r\n                    <span class=\"token punctuation\">)</span>\r\n                    label_idx <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></code></pre></div>\n<h2 id=\"参考\" style=\"position:relative;\">参考<a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><a href=\"https://cv-xueba.club/pages/courses/cv_sfm.html\">视觉重建ppt</a>\r\n<a href=\"https://arxiv.org/html/2401.12202v2\">ok-robot论文</a></p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A8%A1%E5%9E%8B\">单目相机模型</a></p>\n<ul>\n<li><a href=\"#%E5%B0%8F%E5%AD%94%E6%88%90%E5%83%8F%E6%A8%A1%E5%9E%8B\">小孔成像模型</a></li>\n<li><a href=\"#%E4%BB%8E%E5%BD%B1%E6%B6%88%E7%82%B9%E5%88%B0%E5%86%85%E5%8F%82%E7%9F%A9%E9%98%B5\">从影消点到内参矩阵</a></li>\n<li><a href=\"#%E6%A1%88%E4%BE%8B-lss%E4%B8%ADlift%E4%B8%BA%E4%BD%95%E8%83%BD%E5%AE%9E%E7%8E%B0%E8%B7%9D%E7%A6%BB%E4%BC%B0%E8%AE%A1\">案例: LSS中lift为何能实现距离估计?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E5%8F%8C%E7%9B%AE%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA%E5%9F%BA%E7%A1%80\">双目三维重建基础</a></p>\n<ul>\n<li><a href=\"#%E6%9E%81%E5%87%A0%E4%BD%95\">极几何</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E6%A1%88%E4%BE%8B-ok-robot%E4%B8%AD%E7%9A%84%E4%B8%89%E7%BB%B4%E8%AF%AD%E4%B9%89%E8%AF%86%E5%88%AB%E9%87%8D%E5%BB%BA\">案例: ok-robot中的三维语义识别重建</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%8F%82%E8%80%83\">参考</a></p>\n</li>\n</ul>","headings":[{"value":"单目相机模型","depth":2},{"value":"小孔成像模型","depth":3},{"value":"从影消点到内参矩阵","depth":3},{"value":"案例: LSS中lift为何能实现距离估计?","depth":3},{"value":"双目三维重建基础","depth":2},{"value":"极几何","depth":3},{"value":"案例: ok-robot中的三维语义识别重建","depth":2},{"value":"参考","depth":2}],"frontmatter":{"title":"三维重建基础","date":"January 07, 2025","description":"相机模型与LSS中lift原理,三维重建基础,ok-robot中的三维语义重建,"}},"previous":{"fields":{"slug":"/fpga-timing-intra/"},"frontmatter":{"title":"fpga intra-clock时序分析"}},"next":null},"pageContext":{"id":"e13b7f77-37d9-5840-a946-536dd7fb1a5d","previousPostId":"97568629-07b9-5c82-861f-f48facfd2b69","nextPostId":null}},"staticQueryHashes":["230163734","2841359383"],"slicesMap":{}}