{"version":3,"file":"component---src-pages-categories-js-cd0b4f2600888fb3b82f.js","mappings":"uJAmCA,IAhCeA,IAAoC,IAAnC,SAAEC,EAAQ,MAAEC,EAAK,SAAEC,GAAUH,EAC3C,MACMI,EADW,MACEH,EAASI,SAC5B,IAAIC,EAgBJ,OAbEA,EADEF,EAEAG,EAAAA,cAAA,MAAIC,UAAU,gBACZD,EAAAA,cAACE,EAAAA,KAAI,CAACC,GAAG,KAAKR,IAKhBK,EAAAA,cAACE,EAAAA,KAAI,CAACD,UAAU,mBAAmBE,GAAG,KACnCR,GAMLK,EAAAA,cAAA,OAAKC,UAAU,iBAAiB,oBAAmBJ,GACjDG,EAAAA,cAAA,UAAQC,UAAU,iBAAiBF,GACnCC,EAAAA,cAAA,YAAOJ,GACPI,EAAAA,cAAA,cAAQ,MACH,IAAII,MAAOC,cAAc,eAC3B,IACDL,EAAAA,cAAA,KAAGM,KAAK,4BAA2B,WAEjC,C,sDCKV,UAhCoBb,IAAyB,IAADc,EAAA,IAAvB,KAAEC,EAAI,SAAEd,GAAUD,EACrC,MAAMgB,GAAkC,QAAtBF,EAAAC,EAAKE,KAAKC,oBAAY,IAAAJ,OAAA,EAAtBA,EAAwBZ,QAAS,QAEnD,IAAIiB,EAAQJ,EAAKK,kBAAkBC,MAC/BC,EAAa,GAgBjB,OAdAH,EAAMI,SAASC,IACb,MAAMC,EAAUH,EAAWI,MACxBC,GAAaA,EAASzB,QAAUsB,EAAKI,YAAYC,OAE/CJ,EAMHA,EAAQK,MAAQL,EAAQK,MAAQ,EALhCR,EAAWS,KAAK,CACd7B,MAAOsB,EAAKI,YAAYC,KACxBC,MAAO,GAIX,IAIAvB,EAAAA,cAACyB,EAAAA,EAAM,CAAC/B,SAAUA,EAAUC,MAAOc,GAChCM,EAAWW,KAAKN,GAEbpB,EAAAA,cAAA,OAAK2B,IAAKP,EAASzB,MAAOM,UAAU,YACjCmB,EAASzB,MAAM,IAAEyB,EAASG,MAAM,OAIhC,C","sources":["webpack://gatsby-starter-blog/./src/components/layout.js","webpack://gatsby-starter-blog/./src/pages/categories.js"],"sourcesContent":["import * as React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst Layout = ({ location, title, children }) => {\n  const rootPath = `${__PATH_PREFIX__}/`\n  const isRootPath = location.pathname === rootPath\n  let header\n\n  if (isRootPath) {\n    header = (\n      <h1 className=\"main-heading\">\n        <Link to=\"/\">{title}</Link>\n      </h1>\n    )\n  } else {\n    header = (\n      <Link className=\"header-link-home\" to=\"/\">\n        {title}\n      </Link>\n    )\n  }\n\n  return (\n    <div className=\"global-wrapper\" data-is-root-path={isRootPath}>\n      <header className=\"global-header\">{header}</header>\n      <main>{children}</main>\n      <footer>\n        © {new Date().getFullYear()}, Built with\n        {` `}\n        <a href=\"https://www.gatsbyjs.com\">Gatsby</a>\n      </footer>\n    </div>\n  )\n}\n\nexport default Layout\n","import { graphql } from \"gatsby\";\r\nimport * as React from \"react\";\r\nimport Layout from \"../components/layout\";\r\n\r\nconst Categories =  ({ data, location }) => {\r\n  const siteTitle = data.site.siteMetadata?.title || `Title`;\r\n  // 拿到所有的文章数据\r\n  let posts = data.allMarkdownRemark.nodes;\r\n  let categories = [];\r\n  // 计算各分类文章的数量\r\n  posts.forEach((post) => {\r\n    const current = categories.find(\r\n      (category) => category.title === post.frontmatter.type\r\n    );\r\n    if (!current) {\r\n      categories.push({\r\n        title: post.frontmatter.type,\r\n        count: 1,\r\n      });\r\n    } else {\r\n      current.count = current.count + 1;\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Layout location={location} title={siteTitle}>\r\n      {categories.map((category) => {\r\n        return (\r\n          <div key={category.title} className=\"category\">\r\n            {category.title}（{category.count}）\r\n          </div>\r\n        );\r\n      })}\r\n    </Layout>\r\n  );\r\n};\r\nexport default Categories;\r\nexport const pageQuery = graphql`\r\n  query {\r\n    site {\r\n      siteMetadata {\r\n        title\r\n      }\r\n    }\r\n    allMarkdownRemark(sort: { frontmatter: { date: DESC } }) {\r\n      nodes {\r\n        excerpt\r\n        fields {\r\n          slug\r\n        }\r\n        frontmatter {\r\n          tag\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":["_ref","location","title","children","isRootPath","pathname","header","React","className","Link","to","Date","getFullYear","href","_data$site$siteMetada","data","siteTitle","site","siteMetadata","posts","allMarkdownRemark","nodes","categories","forEach","post","current","find","category","frontmatter","type","count","push","Layout","map","key"],"sourceRoot":""}